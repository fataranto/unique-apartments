<!DOCTYPE html>
<html lang="en">



<%- include('./partials/head'); %>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.8.0/dist/leaflet.css"
   integrity="sha512-hoalWLoI8r4UszCkZ5kL8vayOGVae1oxXe/2A4AO6J9+580uKHDO3JdHb7NzwwzK5xr/Fs0W40kiNHxM9vyTtQ=="
   crossorigin=""/>


 <script src="https://unpkg.com/leaflet@1.8.0/dist/leaflet.js"
   integrity="sha512-BB3hKbKWOc9Ez/TAwyWxNXeoV9c1v6FIeYiBieIWkpLjauysF18NzgR1MBNBXf8/KABdlkX68nAhlwcDFLGPCQ=="
   crossorigin=""></script>

  <style>
    #map { height: 320px; }
  </style>

</head>
<body class="container-fluid">
    <%- include('./partials/nav'); %>


    <div class="container mt-5">

        <h1><%= apartment.title %></h1>


        <div class="my-4">
            <div class="row">
                <div class="col">
                    <div class="position-relative">
                        <img src="<%= apartment.photo1.url %>" alt="" class="img-fluid ">
                        <p class="position-absolute bottom-0 start-0 p-2 mb-0 bg-black bg-opacity-50 text-light small">
                            <%= apartment.photo1.description %></p>
                    </div>
                </div>
                <div class="col">

                    <div class="row">
                        <div class="col pb-3"><%if(apartment.photo2.url){%>
                            <div class="position-relative">
                                <img src="<%= apartment.photo2.url %>" alt="" class="img-fluid ">
                                <p
                                    class="position-absolute bottom-0 start-0 p-2 mb-0 bg-black bg-opacity-50 text-light small">
                                    <%= apartment.photo2.description %></p>
                            </div>

                            <% };%>
                        </div>
                        <div class="col pb-3"><%if(apartment.photo3.url){%>
                            <div class="position-relative">
                                <img src="<%= apartment.photo3.url %>" alt="" class="img-fluid ">
                                <p
                                    class="position-absolute bottom-0 start-0 p-2 mb-0 bg-black bg-opacity-50 text-light small">
                                    <%= apartment.photo3.description %></p>
                            </div>
                            <% };%>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col"><%if(apartment.photo4.url){%>
                            <div class="position-relative">
                                <img src="<%= apartment.photo4.url %>" alt="" class="img-fluid ">
                                <p
                                    class="position-absolute bottom-0 start-0 p-2 mb-0 bg-black bg-opacity-50 text-light small">
                                    <%= apartment.photo4.description %></p>
                            </div>

                            <% };%>
                        </div>
                        <div class="col"><%if(apartment.photo3.url){%>
                            <div class="position-relative">
                                <img src="<%= apartment.photo3.url %>" alt="" class="img-fluid ">
                                <p
                                    class="position-absolute bottom-0 start-0 p-2 mb-0 bg-black bg-opacity-50 text-light small">
                                    <%= apartment.photo3.description %></p>
                            </div>
                            <% };%>
                        </div>

                    </div>


                </div>
            </div>

        </div>


        <div class="row">
            <div class="col-9">
              <hr>  
                <div>
                    <p><%= apartment.capacity %> guests | <%= apartment.rooms %> rooms | <%= apartment.bathrooms %> bathrooms | <%= apartment.meters %> m<sup>2</sup></p>
                </div>
                        <hr>

                <p><%= apartment.description %></p>
                
                <!-- map -->
                <hr>
                <p><%=apartment.location.city%>, <%=apartment.location.state%></p>
                
                <div id="map"></div>




                <!-- amenities -->
               <hr>
               <h3>Amenities</h3>
               <div class="accordion" id="accordionExample">
                <div class="accordion-item">
                  <h2 class="accordion-header" id="amenitiesGeneral">
                    <button class="accordion-button fw-bold" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                      General
                    </button>
                  </h2>
                  <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
                    <div class="accordion-body">
                      
                        <div class="row">
                            <div class="col">
                                <p>wifi</p>
                                <p>TV</p>
                                <p>AC</p>
                            </div>
                            <div class="col">
                                <p>Heating</p>
                        <p>Parking</p>
                        <p>Adapted</p>
                            </div>
                        </div>
                        
                        
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                  <h2 class="accordion-header" id="amenitiesBedroom">
                    <button class="accordion-button fw-bold collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                      Bedroom
                    </button>
                  </h2>
                  <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
                    <div class="accordion-body">

                        <div class="row">
                            <div class="col">
                                <p>Essentials</p>
                                <p>Hangers</p>
                            </div>
                            <div class="col">
                                <p>Bed linen</p>
                        <p>Wardrobe</p>
                            </div>
                        </div>
                        
                        
                    </div>
                  </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="amenitiesKitchen">
                      <button class="accordion-button fw-bold collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                        Kitchen
                      </button>
                    </h2>
                    <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionExample">
                      <div class="accordion-body">
                        <div class="row">
                            <div class="col">
                                <p>Stove</p>
                                <p>Fridge</p>
                                <p>Microwave</p>
                            </div>
                            <div class="col">
                                <p>Tableware</p>
                          <p>Coffee Maker</p>
                          <p>Toaster</p>
                            </div>
                        </div>
                          
                          
                      </div>
                    </div>
                  </div>
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="amenitiesBathroom">
                      <button class="accordion-button fw-bold collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                        Bathroom
                      </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
                      <div class="accordion-body">
  
                          <di class="row">
                              <div class="col">
                                  <p>Hair dryer</p>
                                  <p>Shampoo</p>
                              </div>
                              <div class="col">
                                  <p>Soap</p>
                          <p>Hot water</p>
                              </div>
                          </di>
                          
                          
                      </div>
                    </div>
                  </div>
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="amenitiesOutdoor">
                      <button class="accordion-button fw-bold collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                        Outdoor
                      </button>
                    </h2>
                    <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#accordionExample">
                      <div class="accordion-body">
                        <div class="row">
                            <div class="col">
                                <p>Balcony</p>
                                <p>Garden</p>
                                <p>Swiming pool</p>
                            </div>
                            <div class="col">
                                <p>Barbicue</p>
                          <p>Digning area</p>
                            </div>
                        </div>
                          
                          
                      </div>
                    </div>
                  </div>  
              </div>
               <!-- END amenities -->


              <!-- rules -->
               <h3 class="mt-3">Rules</h3>
               <p><%= apartment.rules.rules %></p>
               <p>Pets - Smoking</p>

               <!-- END rules -->

            </div>
            <div class="col-3 bg-light rounded shadow">
                <div class="sticky-top p-3">
                    <h3 class="text-center mt-6" ><%= apartment.price %> €/night</h3>
                    <div class="text-center mt-5"><button type="button" class="btn btn-primary">Book Now</button></div>
                </div>
            </div>
        </div>


    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"></script>

    

        <script>
          var map = L.map('map').setView([<%=apartment.location.lat%>, <%=apartment.location.long%>], 13);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);

L.marker([<%=apartment.location.lat%>, <%=apartment.location.long%>]).addTo(map)
    .bindPopup('<%=apartment.title%>')
    .openPopup();
    map.flyTo([<%=apartment.location.lat%>, <%=apartment.location.long%>],15);
        </script>


</body>

</html>